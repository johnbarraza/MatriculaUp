---
phase: 3
plan: 1
wave: 1
depends_on: [Phase 2]
files_modified:
  - "src/matriculaup/models/curriculum.py"
  - "src/matriculaup/ui/tabs/curriculum_tab.py"
  - "src/matriculaup/ui/app_window.py"
autonomous: true
must_haves:
  truths:
    - "Users can see what courses from their curriculum are offered this cycle"
    - "Curriculum Tab highlights required vs elective courses"
  artifacts:
    - "Curriculum models"
    - "Curriculum tab UI"
---

# Plan 3.1: Curriculum Integration

<objective>
Load the curriculum JSON and provide a new Tab where students can filter the semester's offering against their specific academic cycle (e.g. "Econom√≠a 2017, Ciclo 5").
</objective>

<context>
Load for context:
- input/curricula_economia2017.json
- src/matriculaup/models/course.py
- src/matriculaup/ui/app_window.py
</context>

<tasks>

<task type="auto">
  <name>Curriculum Data Models</name>
  <files>src/matriculaup/models/curriculum.py, src/matriculaup/main.py</files>
  <action>
    Create standard python `dataclasses` (like `Course`, `Session`) to model the JSON structure of `curricula_economia2017.json`.
    Update `main.py` to load this JSON alongside `courses.json` and pass it to `AppWindow`.
  </action>
  <verify>python src/matriculaup/main.py boots with both JSONs parsed successfully.</verify>
  <done>Curriculum models are strictly typed and loaded in memory.</done>
</task>

<task type="auto">
  <name>Curriculum Tab UI</name>
  <files>src/matriculaup/ui/tabs/curriculum_tab.py, src/matriculaup/ui/app_window.py</files>
  <action>
    Create a new PySide6 Tab named `CurriculumTab`.
    Add a QComboBox to select the "Ciclo" (0-10, electivos, etc).
    Add a QListWidget or QTableView showing courses from that cycle, visually indicating if they are available in the current `courses.json` offering.
    Mount `CurriculumTab` inside `AppWindow` as Tab 3.
  </action>
  <verify>Launch app, navigate to Tab 3, select Ciclo 3, see matched courses.</verify>
  <done>UI reliably filters the academic plan.</done>
</task>

</tasks>

<verification>
After all tasks, verify:
- [ ] Changing combo box filters courses.
- [ ] Missing courses (not offered this cycle) are styled gray/red.
- [ ] Existing courses are styled green/available.
</verification>

<success_criteria>
- [ ] All tasks verified
- [ ] Must-haves confirmed
</success_criteria>
