---
phase: 2
plan: 2
wave: 2
depends_on: [1]
files_modified:
  - "src/matriculaup/ui/tabs/search_tab.py"
  - "src/matriculaup/ui/components/course_table.py"
autonomous: true
must_haves:
  truths:
    - "Users can type in a search box and see course results"
  artifacts:
    - "Search tab components"
---

# Plan 2.2: Course Search UI

<objective>
Implement the Course Search UI allowing users to find courses by name/code and select a specific section to add to their schedule.
</objective>

<context>
Load for context:
- src/matriculaup/models/course.py
- src/matriculaup/ui/app_window.py
</context>

<tasks>

<task type="auto">
  <name>Search Tab Layout and Widgets</name>
  <files>src/matriculaup/ui/tabs/search_tab.py</files>
  <action>
    Create a PySide6 layout with a `QLineEdit` for search text, and a `QComboBox` for session type filter (CLASE, PR√ÅCTICA, etc).
  </action>
  <verify>python src/matriculaup/main.py renders the search inputs.</verify>
  <done>User inputs are visible.</done>
</task>

<task type="auto">
  <name>Course Results Tree</name>
  <files>src/matriculaup/ui/components/course_tree.py, src/matriculaup/ui/tabs/search_tab.py</files>
  <action>
    Implement a `QTreeView` using `QStandardItemModel` to show a hierarchical master-detail view: Courses -> Sections.
    Add a context menu or button "Agregar al horario" on the Section level items.
    Wire the `QLineEdit` so typing filters the tree.
  </action>
  <verify>Type into the search box and see the tree dynamically filter.</verify>
  <done>Results accurately reflect the search term.</done>
</task>

</tasks>

<verification>
After all tasks, verify:
- [ ] Expanding a course shows its sections
- [ ] Filter updates automatically when typing
</verification>

<success_criteria>
- [ ] All tasks verified
- [ ] Must-haves confirmed
</success_criteria>
