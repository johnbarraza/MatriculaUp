---
phase: 5
plan: 1
wave: 1
depends_on: ["Phase 4"]
files_modified: ["src/matriculaup/ui/app_window.py", "src/matriculaup/ui/tabs/search_tab.py", "src/matriculaup/ui/tabs/schedule_tab.py"]
autonomous: false
must_haves:
  truths:
    - "Search tab and schedule grid are visible at the same time"
    - "AppWindow uses a QSplitter or side-by-side Layout instead of single-view tabs for search and timetable"
  artifacts:
    - "src/matriculaup/ui/app_window.py"
---

# Plan 5.1: Interactive Side-by-Side Schedule

<objective>
Refactor the main UI layout so the user can see their weekly timetable interactively while they are searching for and adding courses, eliminating the need to constantly switch tabs.
</objective>

<context>
Load for context:
- `src/matriculaup/ui/app_window.py`
- `src/matriculaup/ui/tabs/search_tab.py`
- `src/matriculaup/ui/tabs/schedule_tab.py`
</context>

<tasks>

<task type="auto">
  <name>Refactor AppWindow Layout</name>
  <files>src/matriculaup/ui/app_window.py</files>
  <action>
    Instead of adding `SearchTab` and `ScheduleTab` to a `QTabWidget`, create a `QHBoxLayout` or `QSplitter` as the central widget.
    Place `SearchTab` on the left (taking around 30-40% of the screen) and `ScheduleTab` on the right (60-70%).
    Keep the `CurriculumTab` and `Horarios Guardados` in a tab widget if needed, or rethink the top-level navigation (e.g., standard layout with Search+Timetable as the main view, and other features accessible via toolbar/menu or separate tabs).
    For now, the easiest path is:
    - Have the main window be a `QTabWidget`
    - Tab 1: "Planificador" (Search on Left, Timetable on Right split view)
    - Tab 2: "Avance Curricular"
    - Tab 3: "Horarios Guardados"
  </action>
  <verify>Check `app_window.py` layout logic.</verify>
  <done>UI layout successfully separates search and grid side-by-side.</done>
</task>

<task type="auto">
  <name>Adjust contained widgets</name>
  <files>src/matriculaup/ui/tabs/search_tab.py, src/matriculaup/ui/tabs/schedule_tab.py</files>
  <action>
    Ensure `SearchTab` and `ScheduleTab` are flexible enough to be embedded in a split layout rather than taking the full screen. Remove any hardcoded minimum sizes that might break the split view.
  </action>
  <verify>Review widget initialization in `search_tab.py` and `schedule_tab.py`.</verify>
  <done>Widgets fit correctly in a split layout.</done>
</task>

</tasks>

<verification>
After tasks, verify:
- [ ] Running the app shows both search and grid side by side.
- [ ] Adding a course updates the grid immediately without changing tabs.
</verification>

<success_criteria>
- [ ] All tasks verified
- [ ] Must-haves confirmed
</success_criteria>
