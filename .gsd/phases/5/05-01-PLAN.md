---
phase: 5
plan: 1
wave: 1
depends_on: ["Phase 4"]
files_modified: ["matriculaup_app/pubspec.yaml", "matriculaup_app/lib/main.dart", "matriculaup_app/lib/models/course.dart"]
autonomous: false
must_haves:
  truths:
    - "A new Flutter project named `matriculaup_app` exists."
    - "Dart data models faithfully represent the exported JSON structures (Courses, Sections, Sessions)."
  artifacts:
    - "matriculaup_app/pubspec.yaml"
    - "matriculaup_app/lib/models/course.dart"
---

# Plan 5.1: Flutter Project Initialization & Data Models

<objective>
Pivot the frontend architecture to Flutter. This plan focuses on creating the new Flutter project scaffold and translating our Python data models into Dart classes so we can parse the JSON files.
</objective>

<context>
Load for context:
- `src/matriculaup/models/course.py` (to see the fields we need in Dart)
- `input/courses_2026-1.json` (to see the actual JSON structure we need to deserialize)
</context>

<tasks>

<task type="auto">
  <name>Create Flutter Project</name>
  <files>matriculaup_app/*</files>
  <action>
    Run `flutter create --org com.matriculaup --project-name matriculaup_app matriculaup_app` in the repository root.
    This creates the base Flutter project supporting Windows, Android, Web, etc.
  </action>
  <verify>Check that the `matriculaup_app` directory exists with a valid `pubspec.yaml`.</verify>
  <done>Flutter project initialized successfully.</done>
</task>

<task type="auto">
  <name>Add Core Dependencies</name>
  <files>matriculaup_app/pubspec.yaml</files>
  <action>
    Add necessary packages to `pubspec.yaml`:
    - `file_picker` (for opening the JSON file natively on Windows/Android)
    - `provider` or `flutter_riverpod` (for state management)
    - `path_provider` (for saving user preferences/schedules later)
  </action>
  <verify>Run `flutter pub get` inside the new folder.</verify>
  <done>Dependencies added and fetched.</done>
</task>

<task type="auto">
  <name>Create Dart Data Models</name>
  <files>matriculaup_app/lib/models/course.dart</files>
  <action>
    Create Dart classes `Session`, `Section`, and `Course` that mimic the Python dataclasses.
    Implement `fromJson` factory constructors for each to easily deserialize the JSON list generated by our Python backend.
  </action>
  <verify>Review the `fromJson` logic against the sample `courses_2026-1.json`.</verify>
  <done>Dart models are ready to digest the backend's JSON.</done>
</task>

</tasks>

<verification>
After tasks, verify:
- [ ] The app compiles (`flutter build windows`).
- [ ] `course.dart` has no syntax errors and matches the JSON schema.
</verification>

<success_criteria>
- [ ] All tasks verified
- [ ] Must-haves confirmed
</success_criteria>
